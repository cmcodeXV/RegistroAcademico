<div class="col-md-12 mt-3">
	 <h2>{{page_title}}</h2>
     
      <div class="container">
        <div class="row">
            <div class="col-sm-12 col-sm-offset-4">
                <div class="card">
                    <div class="card-body">
                        <div class="form-inline float-center">
                          <a [routerLink]="['/crear-user']" class="btn btn-primary btn-md ">AÃ±adir nuevo</a>
                           <nav class="navbar navbar-light ">
                              
                          </nav>
                             <input class="form-control mr-sm-2" placeholder="Buscar"  type="text" [(ngModel)]="busqueda">
                              
                          <div class="label label-success" *ngIf="busqueda">
                               Termino de busqueda: <strong>{{busqueda}}</strong>
                           </div>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
    <br/>
     <table class="table table-hover">
      <thead class="thead-default">
        <th>Nombre</th>
        <th>Apellido</th>
        <th>Email</th>
        <th>Role</th>
        <th>Acciones</th>
      </thead>
      <tbody>
        <tr *ngFor="let user of users | search: busqueda">
            <td>{{user.nombre}}</td>
            <td>{{user.apellido}}</td>
            <td>{{user.email}}</td>
            <td>{{user.role}}</td>
              <td>
                    <a class="btn btn-sm btn-primary">
                      <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                      Editar
                    </a> 
                    <a href="#myModal-{{user.id}}" role="button" data-toggle="modal"class="btn btn-sm btn-danger"> 
                      <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                      Borrar
                   </a>
                    <!-- Modal HTML-->
                    <div id="myModal-{{user.id}}" class="modal fade">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title">Estas seguro?</h5>
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                </div>
                                <div class="modal-body">
                                    <p>Seguro que quieres eliminar el Usuario<strong>{{user.nombre+' '+user.apellido}}</strong>?</p>
                                    <p class="text-secondary"><small>Si borrar este registro no podras recuperarlo</small></p>
                                </div>
                                <div class="modal-footer">
                                    <button  type="button" class="btn btn-secondary" data-dismiss="modal"  >Cerrar</button>
                                    <button ng-hide="identity.role!=='ROLE_USER'" type="button" class="btn btn-danger" (click)="deleteUser(user.id)">Eliminar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- FIN Modal HTML -->
              </td>
        </tr>
      </tbody>
     </table>


</div>
